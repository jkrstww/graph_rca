{
  "id": "b68081b6-54f6-483f-92ad-1cd723d46c91",
  "create_time": "2025-12-03 12:12:52",
  "name": "2025å¹´C++è¯•é¢˜",
  "messages": [
    {
      "datetime": "2025-12-03 12:12:52",
      "content": "2025å¹´C++è¯•é¢˜æ€ä¹ˆåš",
      "role": "human"
    },
    {
      "datetime": "2025-12-03 12:14:10",
      "content": "è¿™æ˜¯ä¸€ä»½ **ã€Šé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆC++ç¯‡ï¼‰ã€‹** çš„æœŸæœ«è€ƒè¯•è¯•é¢˜ï¼Œä¸»è¦è€ƒå¯Ÿå­¦ç”Ÿå¯¹ C++ é¢å‘å¯¹è±¡ç¼–ç¨‹æ ¸å¿ƒæ¦‚å¿µçš„æŒæ¡ç¨‹åº¦ï¼ŒåŒ…æ‹¬ï¼š\n\n- å°è£…ã€æ„é€ ä¸ææ„\n- æŒ‡é’ˆä¸åŠ¨æ€å†…å­˜ç®¡ç†\n- ç±»çš„è®¾è®¡ä¸å®ç°\n- ç»§æ‰¿ä¸å¤šæ€\n- å¼‚å¸¸å¤„ç†\n- é™æ€æˆå‘˜å‡½æ•°\n- æŠ½è±¡åŸºç±»ä¸çº¯è™šå‡½æ•°\n\nä¸‹é¢æˆ‘å°† **é€é¢˜è§£æå¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š**ï¼Œå¸®åŠ©ä½ â€œæ€ä¹ˆåšâ€è¿™ä»½ 2025 å¹´ C++ è¯•é¢˜ã€‚\n\n---\n\n## âœ… **ä¸€ã€èƒŒæ™¯ç†è§£**\n\næ¸¸æˆæ˜¯ä¸€ä¸ª `NxN` ç½‘æ ¼æ´ç©´ï¼Œæ¯ä¸ªæˆ¿é—´æœ‰ä¸Šä¸‹å·¦å³éš§é“ã€‚ç©å®¶éšæœºå‡ºç”Ÿåœ¨ä¸€ä¸ªæˆ¿é—´ä¸­ï¼Œå¯ä»¥ç§»åŠ¨ï¼Œæ„ŸçŸ¥å‘¨å›´ç¯å¢ƒï¼Œé‡åˆ°é™·é˜±ä¼šæ­»äº¡ï¼Œæ‰¾åˆ°é»„é‡‘ä¸ºç›®æ ‡ã€‚\n\næˆ‘ä»¬ä»ä»£ç ç»“æ„å‡ºå‘ï¼Œé€æ­¥å®Œæˆå¡«ç©ºã€‚\n\n---\n\n## âœ… **äºŒã€Game ç±»å®šä¹‰ä¸ main å‡½æ•°**\n\n### **é¢˜ç›®ï¼šå®Œå–„ (1)(2)(3)(4)(5)**\n\n```cpp\nint main(int argc, char** argv) {   \n    int size = 5;  \n    Game g( (1) );     // åˆ›å»ºæ¸¸æˆå¯¹è±¡    \n    g.run();           // è¿è¡Œæ¸¸æˆ   \n    return 0;   \n}\n```\n\n#### **(1) å¡«å…¥æ„é€ å‡½æ•°å‚æ•°**\nåº”ä¼ å…¥ `size`ï¼š\n> âœ… `(1)` â†’ `size`\n\n---\n\n#### **(2)(3)(4) è¡¥å…¨ class Game çš„è®¿é—®æ§åˆ¶ç¬¦**\n\nåŸå£°æ˜ï¼š\n\n```cpp\nclass Game {   \n (2)   \n     std::vector<std::vector<Room*>> rooms;  \n       (5)   int size_;  \n (3)   \n     Game(int);  \n     ~Game();  \n     void run();  \n (4)   \n     void show_map(); ...\n};\n```\n\næ ¹æ®å°è£…åŸåˆ™ï¼š\n- æˆå‘˜å˜é‡é€šå¸¸ä¸º `private`\n- æ„é€ /ææ„/æ¥å£å‡½æ•°ä¸º `public`\n\næ‰€ä»¥ï¼š\n\n> âœ… `(2)` â†’ `private:`\n>\n> âœ… `(3)` â†’ `public:`\n>\n> âœ… `(4)` â†’ `private:` ï¼ˆå› ä¸º `show_map`, `print_info`, `check_end` æ˜¯å†…éƒ¨åŠŸèƒ½ï¼‰\n\n> âœ… `(5)` åŠ ä¸Š `const`ï¼šå› ä¸ºå°ºå¯¸ä¸å˜  \n> æ‰€ä»¥ `(5)` â†’ `const int size_;`\n\n---\n\n### âœ… **(6) æ”¹æ­£ Game::Game(int) ä¸­çš„é”™è¯¯**\n\n```cpp\nGame::Game(int size) {\n    for(int i = 0; i < size; i++) {\n        std::vector<Room*> tmp;\n        for(int j = 0; j < size; j++) {\n            tmp.push_back(new Room());\n        }\n        rooms.push_back(tmp);\n    }\n    size_ = size;\n}\n```\n\n**é—®é¢˜ï¼š**\n- `size_` æ˜¯ `const int size_;`ï¼Œå¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­èµ‹å€¼ï¼ä¸èƒ½åœ¨å‡½æ•°ä½“å†…èµ‹å€¼ã€‚\n\nâœ… **æ”¹æ­£ï¼š**\n\n```cpp\nGame::Game(int size) : size_(size) {\n    for(int i = 0; i < size; i++) {\n        std::vector<Room*> tmp;\n        for(int j = 0; j < size; j++) {\n            tmp.push_back(new Room());\n        }\n        rooms.push_back(tmp);\n    }\n    // size_ = size;  // é”™è¯¯ï¼const åªèƒ½åœ¨åˆå§‹åŒ–åˆ—è¡¨è®¾ç½®\n}\n```\n\n> âœ… `(6)` ç­”æ¡ˆï¼š  \n> é”™è¯¯åœ¨äº `const int size_` ä¸èƒ½åœ¨å‡½æ•°ä½“å†…èµ‹å€¼ï¼Œå¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ã€‚  \n> æ”¹æ­£ï¼šæ·»åŠ åˆå§‹åŒ–åˆ—è¡¨ `: size_(size)`ï¼Œå¹¶åœ¨å‡½æ•°ä½“å†…åˆ é™¤ `size_ = size;`\n\n---\n\n### âœ… **(7) å®ç° Game çš„ææ„å‡½æ•°**\n\néœ€è¦é‡Šæ”¾æ‰€æœ‰ new å‡ºæ¥çš„ Room å¯¹è±¡ï¼Œå¹¶æ¸…ç©º vectorã€‚\n\n```cpp\nGame::~Game() {\n    for (auto& row : rooms) {\n        for (auto* room : row) {\n            delete room;\n        }\n    }\n    rooms.clear();\n}\n```\n\n> âœ… `(7)` ç­”æ¡ˆï¼š\n\n```cpp\nGame::~Game() {\n    for (int i = 0; i < size_; ++i) {\n        for (int j = 0; j < size_; ++j) {\n            delete rooms[i][j];\n        }\n    }\n}\n```\n\næˆ–æ›´ç°ä»£å†™æ³•ï¼š\n\n```cpp\nGame::~Game() {\n    for (auto& row : rooms) {\n        for (auto* p : row) {\n            delete p;\n        }\n    }\n}\n```\n\nâš ï¸ æ³¨æ„ï¼šä¸éœ€è¦ clear vectorï¼Œææ„æ—¶è‡ªåŠ¨æ¸…ç†ã€‚\n\n---\n\n## âœ… **(8) ç”»å‡ºä¸¤ä¸ªç›¸é‚»æˆ¿é—´çš„åœ°å›¾æ˜¾ç¤ºæ•ˆæœ**\n\næ ¹æ® `show_map()` çš„é€»è¾‘ï¼š\n\n- ä½¿ç”¨ `+` è¡¨ç¤ºè§’è½\n- `-` æ°´å¹³å¢™\n- `|` å‚ç›´å¢™\n- ä¸­é—´æ˜¯æˆ¿é—´å†…å®¹ï¼ˆè°ƒç”¨ `room->show()`ï¼‰\n\nå¯¹äºä¸€ä¸ª 2x2 æˆ¿é—´çš„éƒ¨åˆ†åœ°å›¾ï¼ˆç®€åŒ–ç¤ºæ„ï¼‰ï¼š\n\n```\n+---+---+\n|   |   |\n+---+---+\n|   |   |\n+---+---+\n```\n\nä½†å®é™…ç®—æ³•æ˜¯åŸºäº `(size_*2+1)` çš„ç½‘æ ¼ã€‚\n\nä¾‹å¦‚ `size=2` æ—¶è¾“å‡ºï¼š\n\n```\n+---+\n|   |\n+---+\n```\n\nä¸å¯¹ï¼Œçœ‹å¾ªç¯ï¼š\n\n```cpp\nfor i in [0, 2*size+1)\n  for j in [0, 2*size+1)\n    if i%2==0 && j%2==0 â†’ '+'\n    elif i%2==0 â†’ '-'\n    elif j%2==0 â†’ '|'\n    else â†’ room.show()\n```\n\næ‰€ä»¥ `size=2` æ—¶æ˜¯ 5x5 ç½‘æ ¼ï¼š\n\n```\nRow0: + - + - +\nRow1: |   |   |\nRow2: + - + - +\nRow3: |   |   |\nRow4: + - + - +\n```\n\nå…¶ä¸­ä¸­é—´å››ä¸ªæ ¼å­æ˜¯æˆ¿é—´å†…å®¹ï¼ˆç©ºæ ¼ï¼‰ï¼Œæ¯”å¦‚å·¦ä¸Šè§’æˆ¿é—´åœ¨ (1,1)\n\n> âœ… `(8)` ç­”æ¡ˆï¼šç”»å‡ºå¦‚ä¸‹å›¾å½¢ï¼ˆè‡³å°‘ä¸¤ä¸ªæˆ¿é—´ï¼‰ï¼š\n\n```\n+---+---+\n|   |   |\n+---+---+\n```\n\nè¡¨ç¤ºä¸¤ä¸ªæ¨ªå‘ç›¸é‚»çš„ç©ºæˆ¿é—´ã€‚\n\n---\n\n## âœ… **å››ã€Player ä¸ Game ä¿®æ”¹**\n\n### âœ… **(9) åˆå§‹åŒ– player_ æŒ‡é’ˆ**\n\n```cpp\nplayer_ = (9); // åˆå§‹åŒ–ç©å®¶\n```\n\nè¦åˆ›å»ºä¸€ä¸ªæ–° Playerï¼š\n\n> âœ… `(9)` â†’ `new Player();`\n\n---\n\n### âœ… **(10) å®ç° Game ææ„å‡½æ•°æ¸…é™¤ Player**\n\næ³¨æ„ï¼šåªæœ‰ä¸€ä¸ªç©å®¶ã€‚\n\n```cpp\nGame::~Game() {\n    delete player_;\n    // å·²ç»åœ¨å‰é¢å†™äº†æˆ¿é—´çš„åˆ é™¤\n    for (auto& row : rooms) {\n        for (auto* p : row) {\n            delete p;\n        }\n    }\n}\n```\n\n> âœ… `(10)` ç­”æ¡ˆï¼š\n\n```cpp\nGame::~Game() {\n    delete player_;\n    for (const auto& row : rooms) {\n        for (Room* r : row) {\n            delete r;\n        }\n    }\n}\n```\n\n---\n\n### âœ… **(11) å®ç° Room çš„æ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–ä¸ºç©ºæˆ¿é—´ï¼‰**\n\n```cpp\nclass Room {\nprivate:\n    Player* player_;\n    Event* event_;\npublic:\n    Room(); // è¦å®ç°\n};\n```\n\nåˆå§‹åŒ–æŒ‡é’ˆä¸º nullptrï¼š\n\n> âœ… `(11)` ç­”æ¡ˆï¼š\n\n```cpp\nRoom::Room() : player_(nullptr), event_(nullptr) {}\n```\n\n---\n\n## âœ… **äº”ã€åŠ å…¥é™·é˜±ä¸é»„é‡‘**\n\n### âœ… **(12) å®Œæˆ Room çš„é™æ€æ–¹æ³•å£°æ˜**\n\næ ¹æ® `random_rooms()` è°ƒç”¨äº†ï¼š\n\n- `Room::roomWithPlayer(player_)`\n- `Room::roomWithPit()`\n- `Room::roomWithGold()`\n- `Room::roomWithEmpty()`\n\nè¿™äº›æ˜¯ **é™æ€å·¥å‚æ–¹æ³•**ï¼Œè¿”å› `Room*`\n\n> âœ… `(12)` ç­”æ¡ˆï¼š\n\n```cpp\nclass Room {\npublic:\n    static Room* roomWithPlayer(Player* p);\n    static Room* roomWithPit();\n    static Room* roomWithGold();\n    static Room* roomWithEmpty();\n    // å…¶ä»–ç•¥...\n};\n```\n\n---\n\n### âœ… **(13) å£°æ˜æŠ½è±¡ç±» Event**\n\nè¦æ±‚ï¼š\n- æŠ½è±¡åŸºç±»\n- å«çº¯è™šå‡½æ•° `percept()`\n- åç»­å¯èƒ½æœ‰ `die()`\n\nç›®å‰å…ˆå†™å½“å‰ç‰ˆæœ¬ï¼š\n\n> âœ… `(13)` ç­”æ¡ˆï¼š\n\n```cpp\nclass Event {\npublic:\n    virtual void percept() = 0;  // çº¯è™šå‡½æ•°\n    virtual ~Event() = default;   // å»ºè®®è™šææ„\n};\n```\n\n---\n\n### âœ… **(14) å®ç° Gold ç±»ï¼ˆç»§æ‰¿ Eventï¼‰**\n\né»„é‡‘æˆ¿é—´æ„ŸçŸ¥æ—¶â€œé‡‘å…‰é—ªé—ªâ€\n\n> âœ… `(14)` ç­”æ¡ˆï¼š\n\n```cpp\nclass Gold : public Event {\npublic:\n    void percept() override {\n        std::cout << \"ä½ çœ‹åˆ°é‡‘å…‰é—ªé—ªï¼\" << std::endl;\n    }\n};\n```\n\n---\n\n### âœ… **(15) å®ç° Room::roomWithGold()**\n\nåˆ›å»ºä¸€ä¸ªæˆ¿é—´ï¼Œå¹¶è®¾ç½®å…¶ event_ ä¸ºæ–°çš„ Gold å¯¹è±¡ã€‚\n\n> âœ… `(15)` ç­”æ¡ˆï¼š\n\n```cpp\nRoom* Room::roomWithGold() {\n    Room* room = new Room();\n    room->event_ = new Gold();\n    return room;\n}\n```\n\nâš ï¸ æ³¨æ„ï¼šè™½ç„¶æœªæï¼Œä½†åˆç†åšæ³•æ˜¯è®© `roomWithPit()` åˆ›å»º Pit å¯¹è±¡ç­‰ã€‚\n\n---\n\n## âœ… **å…­ã€å¼‚å¸¸å¤„ç†ä¸æ­»äº¡æœºåˆ¶**\n\n### âœ… **(16) é‡æ„ Event ç±»ï¼Œæ·»åŠ  die() æ–¹æ³•**\n\nç°åœ¨ `die()` æ˜¯ç”±äº‹ä»¶å†³å®šæ˜¯å¦å¯¼è‡´æ­»äº¡ã€‚\n\n- ç©ºæˆ¿é—´ã€é»„é‡‘æˆ¿é—´ï¼šä¸æ­»äº¡\n- é™·é˜±æˆ¿é—´ï¼šæ­»äº¡\n\næ‰€ä»¥ `die()` åº”ä¸ºè™šå‡½æ•°ï¼Œé™·é˜±ä¸­é‡å†™æŠ›å‡ºå¼‚å¸¸æˆ–æ ‡è®°ã€‚\n\nä½†é¢˜æ„è¯´â€œæŠ›å‡ºå¼‚å¸¸â€ï¼Œæ‰€ä»¥ `die()` å¯èƒ½ç›´æ¥æŠ›å‡ºã€‚\n\n> âœ… `(16)` ç­”æ¡ˆï¼š\n\n```cpp\nclass Event {\npublic:\n    virtual void percept() = 0;\n    virtual void die() {}              // é»˜è®¤ä¸æ­»äº¡\n    virtual ~Event() = default;\n};\n```\n\næˆ–è€…æ›´æ˜ç¡®åœ°è¯´æ˜å¯è¢«é‡å†™ã€‚\n\n---\n\n### âœ… **(17) å®ç° Pit::die() æ–¹æ³•**\n\né™·é˜±æˆ¿é—´ä¼šå¯¼è‡´æ­»äº¡ â†’ æŠ›å‡ºå¼‚å¸¸ï¼Ÿ\n\nä½†é¢˜ä¸­è¯´â€œç”±æ´¾ç”Ÿç±»å®ç°â€ï¼Œä¸”åç»­ `enter()` æ£€æŸ¥ç»“æœã€‚\n\nç„¶è€Œä»£ç ä¸­æ˜¯ï¼š\n\n> â€œè¯·åœ¨ Room::enter() ä¸­æ£€æŸ¥ Event::die() ç»“æœï¼ŒæŠ›å‡º runtime_errorâ€\n\nè¯´æ˜ `die()` ä¸ç›´æ¥æŠ›å‡ºï¼Œè€Œæ˜¯è¿”å› bool æˆ–è§¦å‘æŸç§çŠ¶æ€ã€‚\n\nä½†æœ€ç®€æ´æ–¹å¼æ˜¯ï¼š**`die()` ç›´æ¥æŠ›å‡ºå¼‚å¸¸**ã€‚\n\nä¸è¿‡é¢˜ç›®ç¬¬ (18) è¯´ï¼šâ€œæ£€æŸ¥ die() æ–¹æ³•çš„ç»“æœâ€ï¼Œæš—ç¤ºå®ƒè¿”å›å€¼ã€‚\n\næ‰€ä»¥æˆ‘ä»¬è®¾è®¡ä¸ºï¼š\n\n```cpp\nvirtual bool die(); // è¿”å› true è¡¨ç¤ºæ­»äº¡\n```\n\n> âœ… ä¿®æ”¹ Eventï¼š\n\n```cpp\nclass Event {\npublic:\n    virtual void percept() = 0;\n    virtual bool die() { return false; }  // é»˜è®¤ä¸ä¼šæ­»\n    virtual ~Event() = default;\n};\n\nclass Pit : public Event {\npublic:\n    void percept() override {\n        std::cout << \"ä½ æ„Ÿåˆ°é£•é£•é˜´é£ï¼\" << std::endl;\n    }\n    bool die() override {\n        return true;  // æ‰å…¥é™·é˜±ï¼Œæ­»äº¡\n    }\n};\n```\n\n> âœ… `(17)` ç­”æ¡ˆï¼š\n\n```cpp\nbool Pit::die() {\n    return true;\n}\n```\n\n---\n\n### âœ… **(18) åœ¨ Room::enter() ä¸­æ£€æŸ¥ die() å¹¶æŠ›å‡ºå¼‚å¸¸**\n\n```cpp\nvoid Room::enter(Player* player) {\n    player_ = player;\n    if (event_ != nullptr) {\n        if (event_->die()) {\n            throw std::runtime_error(\"You have died!\");\n        }\n    }\n}\n```\n\n> âœ… `(18)` ç­”æ¡ˆï¼š\n\n```cpp\nvoid Room::enter(Player* player) {\n    player_ = player;\n    if (event_ && event_->die()) {\n        throw std::runtime_error(\"You have died!\");\n    }\n}\n```\n\n---\n\n### âœ… **(19)(20)(21) ä¿®æ”¹ run() å‡½æ•°ä»¥æ•è·å¼‚å¸¸å¹¶é‡å¯æ¸¸æˆ**\n\nåŸä»£ç ï¼š\n\n```cpp\nvoid Game::run() {   \n    while (true) {\n        (19)\n        print_info();    \n        percept_rooms();   \n        show_map();    \n        move_player();    \n        check_end();    \n        (20)\n            (21)\n            // åˆ é™¤æ—§æˆ¿é—´ï¼Œé‡æ–°ç”Ÿæˆ\n        }\n    }\n}\n```\n\néœ€è¦ç”¨ try-catch åŒ…è£¹æ¸¸æˆä¸»å¾ªç¯ä½“ï¼Œæ•è·å¼‚å¸¸åæ¸…ç†å¹¶é‡ç½®ã€‚\n\n> âœ… `(19)` â†’ `try {`\n>\n> âœ… `(20)` â†’ `} catch (const std::runtime_error&) {`\n>\n> âœ… `(21)` â†’ æ·»åŠ æ³¨é‡Šä¸­çš„æ¸…ç†ä¸é‡å»ºä»£ç \n\nå®Œæ•´å¡«å†™ï¼š\n\n> âœ… `(19)`ï¼š`try {`  \n> âœ… `(20)`ï¼š`} catch (const std::runtime_error&) {`  \n> âœ… `(21)`ï¼šä»¥ä¸‹ä»£ç å—ï¼š\n\n```cpp\nstd::cout << \"ä½ å·²æ­»äº¡ï¼Œæ¸¸æˆé‡å¯ï¼\" << std::endl;\nfor (auto &row : rooms) {\n    for (auto &room : row) {\n        delete room;\n    }\n}\nrooms.clear();\nrandom_rooms();  // é‡æ–°ç”Ÿæˆæˆ¿é—´\n```\n\næ³¨æ„ï¼šæ­¤æ—¶ `rooms` æ˜¯äºŒç»´ vectorï¼Œéœ€å…¨éƒ¨åˆ é™¤ã€‚\n\nâš ï¸ æç¤ºï¼šåº”åœ¨ `catch` å—æœ«å°¾ç»§ç»­å¾ªç¯ï¼Œè€Œä¸æ˜¯é€€å‡ºã€‚\n\næœ€ç»ˆç»“æ„ï¼š\n\n```cpp\nvoid Game::run() {\n    while (true) {\n        try {\n            print_info();\n            percept_rooms();\n            show_map();\n            move_player();\n            check_end();\n        } catch (const std::runtime_error&) {\n            std::cout << \"ä½ å·²æ­»äº¡ï¼Œæ¸¸æˆé‡å¯ï¼\" << std::endl;\n            for (auto &row : rooms) {\n                for (auto &room : row) {\n                    delete room;\n                }\n            }\n            rooms.clear();\n            random_rooms();\n        }\n    }\n}\n```\n\n---\n\n## âœ… æ€»ç»“ï¼šå„é¢˜ç­”æ¡ˆæ±‡æ€»\n\n| é¢˜å· | ç­”æ¡ˆ |\n|------|------|\n| (1) | `size` |\n| (2) | `private:` |\n| (3) | `public:` |\n| (4) | `private:` |\n| (5) | `const int size_;` |\n| (6) | `const int size_` å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨èµ‹å€¼ï¼Œæ”¹ä¸º `Game::Game(int size) : size_(size)` |\n| (7) | ææ„å‡½æ•°ä¸­éå† `rooms`ï¼Œ`delete` æ¯ä¸ª `Room*` |\n| (8) | ç”»å‡ºç±»ä¼¼ï¼š<br>`+---+---+`<br>`\\|   \\|   \\|`<br>`+---+---+` |\n| (9) | `new Player();` |\n| (10)| `delete player_;` + åˆ é™¤æ‰€æœ‰æˆ¿é—´ |\n| (11)| `Room::Room() : player_(nullptr), event_(nullptr) {}` |\n| (12)| å£°æ˜å››ä¸ªé™æ€æ–¹æ³•ï¼š<br>`static Room* roomWithPlayer(Player*);`<br>`static Room* roomWithPit();`<br>`static Room* roomWithGold();`<br>`static Room* roomWithEmpty();` |\n| (13)| `class Event { public: virtual void percept() = 0; virtual ~Event() = default; };` |\n| (14)| `class Gold : public Event { void percept() override { cout << \"é‡‘å…‰é—ªé—ª\"; } };` |\n| (15)| `Room* Room::roomWithGold() { Room* r = new Room(); r->event_ = new Gold(); return r; }` |\n| (16)| æ·»åŠ è™šå‡½æ•° `virtual bool die() { return false; }` |\n| (17)| `bool Pit::die() { return true; }` |\n| (18)| åœ¨ `enter()` ä¸­ï¼š`if (event_ && event_->die()) throw runtime_error(...);` |\n| (19)| `try {` |\n| (20)| `} catch (const std::runtime_error&) {` |\n| (21)| è¾“å‡ºæç¤º + åˆ é™¤æ‰€æœ‰æˆ¿é—´ + `rooms.clear()` + `random_rooms()` |\n\n---\n\n## âœ… å­¦ä¹ å»ºè®®\n\nè¦åšå¥½è¿™ç±» C++ è¯•é¢˜ï¼Œä½ éœ€è¦æŒæ¡ï¼š\n\n1. **C++ åŸºç¡€è¯­æ³•**ï¼šæ„é€ ã€ææ„ã€æŒ‡é’ˆã€å¼•ç”¨\n2. **RAII ä¸å†…å­˜ç®¡ç†**ï¼šnew/delete é…å¯¹ï¼Œé¿å…æ³„æ¼\n3. **é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§**ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€\n4. **æŠ½è±¡ç±»ä¸æ¥å£è®¾è®¡**ï¼šçº¯è™šå‡½æ•°ã€å·¥å‚æ¨¡å¼\n5. **å¼‚å¸¸å¤„ç†æœºåˆ¶**ï¼štry/catchï¼Œå¼‚å¸¸å®‰å…¨\n6. **STL ä½¿ç”¨**ï¼švectorã€èŒƒå›´ for å¾ªç¯\n7. **ç¼–ç è§„èŒƒ**ï¼šåˆå§‹åŒ–åˆ—è¡¨ã€const æ­£ç¡®ä½¿ç”¨\n\n---\n\nğŸ¯ **å¦‚æœä½ æ­£åœ¨å‡†å¤‡è€ƒè¯•**ï¼Œå»ºè®®ï¼š\n\n- åŠ¨æ‰‹æŠŠæ•´ä¸ªæ¸¸æˆæ¡†æ¶å†™ä¸€é\n- ç¼–è¯‘è¿è¡Œï¼Œè°ƒè¯•å†…å­˜é”™è¯¯\n- ç†è§£æ¯ä¸€æ­¥çš„è®¾è®¡æ„å›¾ï¼ˆå¦‚ä¸ºä½•ç”¨æŒ‡é’ˆã€ä¸ºä½•ç”¨é™æ€å·¥å‚ï¼‰\n\nè¿™æ ·ä¸ä»…èƒ½â€œåšé¢˜â€ï¼Œè¿˜èƒ½çœŸæ­£æŒæ¡ C++ é¢å‘å¯¹è±¡ç¼–ç¨‹ç²¾é«“ã€‚\n\nå¦‚éœ€æˆ‘å¸®ä½  **ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç æ¡†æ¶**ï¼Œä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ï¼",
      "role": "ai"
    }
  ]
}